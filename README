== Installation ==

Assumptions:
* You have precise pangolin running
* You have installed git and SSH

Steps:
* Get the code
** $ git clone ssh://ubuntu@akorn.org/~/git/akorn_search.git
* Install required ubuntu packages
** $ sudo apt-get install $(cat akorn_search/UBUNTU_PACKAGES)
* Install virtualenvwrapper
** $ sudo easy_install pip
** $ sudo pip install virtualenv virtualenvwrapper
** $ mkdir ~/.virtualenvs
** Add the following to ~/.bashrc

export WORKON_HOME=$HOME/.virtualenvs
source /usr/local/bin/virtualenvwrapper.sh
export PIP_VIRTUALENV_BASE=$WORKON_HOME

** $ source ~/.bashrc 
* Build a virtual environment to run the code
** $ mkvirtualenv -a ~/akorn_search/ -r akorn_search/REQUIREMENTS.txt akorn
* Get a couchdb dump, so you have test data to play with
* Set up couchdb
** $ sudo update-rc.d couchdb enable
** $ sudo service couchdb start
* Get a dump from the server and load it into your local couchdb
** $ workon akorn
** (akorn) $ fab load_dumps

== Deploying changes ==

Once you have made and commited changes to your local repository, you
can deploy your changes to the servers using Fabric. It is in requirements.txt so will be available from within your virtualenv.

* Push your local commits to the shared repository
** (akorn) $ fab prepare_deploy
* Pull in commits from shared repository, and restart the server
** (akorn) $ fab deploy
